{"version":3,"sources":["js/soho-magnify.min.js"],"names":["module","c","define","exports","d","b","a","e","width","height","cursor","overflow","element","$element","event","eventOut","namespace","nativeWidth","nativeHeight","getOptions","delay","zoom","glass","show","hide","check","h","l","g","f","i","k","j","rx","Math","ry","bgp","px","py","bs","left","top","backgroundPosition","backgroundSize","maxleft","maxtop","minleft","mintop","destroy","$this","data","options"],"mappings":"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","sourcesContent":["!function(d,c){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=c(jQuery):\"function\"==typeof define&&define.amd?define([\"jquery\"],c):\"object\"==typeof exports?exports.SohoMagnify=c(jQuery):d.SohoMagnify=c(jQuery)}(this,function(a){var b=function(d,c){this.element=d;this.$element=a(d);this.options=this.getOptions(c);if(!this.$element.parent().hasClass(\"soho-magnify\")){this.$element.wrap('<div class=\"soho-magnify\" />');this.$element.parent(\".soho-magnify\").append('<div class=\"soho-magnify-large\" />')}this.$magnify=this.$element.parent(\".soho-magnify\");this.$magnify_large=this.$element.siblings(\".soho-magnify-large\");var e=this.$element.attr(\"src\");if(this.$element.data(\"large\")){e=this.$element.data(\"large\")}this.$magnify.css({width:this.$element.width(),height:this.$element.height(),cursor:this.options.cursor});if(this.options.glass===1){this.$magnify_large.addClass(\"soho-magnify-large-glass\")}else{this.$magnify.css({overflow:\"hidden\"})}this.$element.siblings(\".soho-magnify-large\").css(\"background\",\"url('\"+e+\"') no-repeat\");this.$element.parent(\".soho-magnify\").on(this.event+\".\"+this.namespace,a.proxy(this.check,this)).on(this.eventOut+\".\"+this.namespace,a.proxy(this.check,this)).on(\"touchmove.\"+this.namespace,a.proxy(this.check,this)).on(\"touchend.\"+this.namespace,a.proxy(this.check,this))};b.prototype={element:null,$element:null,event:\"mousemove\",eventOut:\"mouseleave\",namespace:\"soho-magnify\",nativeWidth:0,nativeHeight:0,getOptions:function(c){c=a.extend({},{delay:0,zoom:1,glass:1,cursor:\"none\"},c,this.$element.data());if(c.delay&&typeof c.delay===\"number\"){c.delay={show:c.delay,hide:c.delay}}return c},check:function(h){var d=this,c=a(h.currentTarget),l=c.children(\"img\"),g=c.children(\".soho-magnify-large\");if(!this.nativeWidth&&!this.nativeHeight){var f=new Image();f.src=l.data(\"large\")?l.data(\"large\"):l.attr(\"src\");a(f).on(\"load\",function(m){d.nativeWidth=f.width*d.options.zoom;d.nativeHeight=f.height*d.options.zoom;if(d.options.zoom===1){if(d.nativeWidth<=c.width()){d.nativeWidth*=1.5;d.nativeHeight*=1.5}}})}else{var i=c.offset(),k=h.pageX-i.left,j=h.pageY-i.top;if(k<c.width()&&j<c.height()&&k>0&&j>0){g.fadeIn(100)}else{g.fadeOut(100)}if(g.is(\":visible\")){if(this.options.glass===1){let rx=Math.round(k/c.width()*this.nativeWidth-g.width()/2)*-1,ry=Math.round(j/c.height()*this.nativeHeight-g.height()/2)*-1,bgp=rx+\"px \"+ry+\"px\",px=k-g.width()/2,py=j-g.height()/2,bs=this.nativeWidth+\"px \"+this.nativeHeight+\"px\";g.css({left:px,top:py,backgroundPosition:bgp,backgroundSize:bs})}else{g.css({width:this.nativeWidth,height:this.nativeHeight});let maxleft=0,maxtop=0,minleft=(g.width()-c.width())*-1,mintop=(g.height()-c.height())*-1,left=Math.round((k/c.width()*this.nativeWidth-c.width()/2))*-1,top=Math.round((j/c.height()*this.nativeHeight-c.height()/2))*-1,bs=this.nativeWidth+\"px \"+this.nativeHeight+\"px\";if(left>maxleft){left=maxleft}if(top>maxtop){top=maxtop}if(left<minleft){left=minleft}if(top<mintop){top=mintop}g.css({left:left,top:top,backgroundSize:bs})}}}},destroy:function(){this.$element.parent(\".soho-magnify\").off(this.event+\".\"+this.namespace,a.proxy(this.check,this)).off(this.eventOut+\".\"+this.namespace,a.proxy(this.check,this)).off(\"touchmove.\"+this.namespace,a.proxy(this.check,this)).off(\"touchend.\"+this.namespace,a.proxy(this.check,this));this.$element.siblings(\".soho-magnify-large\").remove();this.$element.unwrap();this.$element.removeData(\"soho-magnify\")}};a.fn.SohoMagnify=function(c){return this.each(function(){let $this=a(this),data=$this.data(\"soho-magnify\"),options=typeof c===\"object\"&&c;if(!data){$this.data(\"soho-magnify\",(data=new b(this,options)))}if(typeof c===\"string\"){data[c]()}})};a.fn.SohoMagnify.Constructor=b;a(window).on(\"load\",function(){a(\"[data-toggle='soho-magnify']\").each(function(){a(this).SohoMagnify()})});return b});"],"file":"soho-magnify.min.js"}