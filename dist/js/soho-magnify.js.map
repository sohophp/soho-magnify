{"version":3,"sources":["../lib/js/soho-magnify.js"],"names":["Symbol","_typeof","obj","module","b","define","exports","a","SohoMagnify","$","large","width","height","cursor","overflow","element","$element","event","eventOut","namespace","nativeWidth","nativeHeight","getOptions","options","delay","zoom","glass","show","hide","check","o","container","e","self","mag","image","magnifyOffset","mx","my","rx","Math","ry","bgp","px","py","bs","left","top","backgroundPosition","backgroundSize","maxleft","maxtop","minleft","mintop","_bs","destroy","$this","data"],"mappings":"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","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\r\n *\r\n * Picture magnifying glass\r\n * 圖片放大鏡\r\n * @see https://www.sohophp.com/soho-magnify\r\n * @author ZHAI Peng\r\n * @version 1.1.0\r\n * @dependencies jQuery\r\n */\n!function (a, b) {\n  'use strict';\n\n  \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) && \"object\" == (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) ? module.exports = b(jQuery) : \"function\" == typeof define && define.amd ? define(['jquery'], b) : \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? exports.SohoMagnify = b(jQuery) : a.SohoMagnify = b(jQuery);\n}(void 0, function ($) {\n  'use strict';\n\n  var SohoMagnify = function SohoMagnify(element, options) {\n    this.element = element;\n    this.$element = $(element);\n    this.options = this.getOptions(options);\n\n    if (!this.$element.parent().hasClass('soho-magnify')) {\n      this.$element.wrap('<div class=\"soho-magnify\" />');\n      this.$element.parent('.soho-magnify').append('<div class=\"soho-magnify-large\" />');\n    }\n\n    this.$magnify = this.$element.parent('.soho-magnify');\n    this.$magnify_large = this.$element.siblings('.soho-magnify-large');\n    var large = this.$element.attr('src');\n\n    if (this.$element.data('large')) {\n      large = this.$element.data('large');\n    }\n\n    this.$magnify.css({\n      width: this.$element.width(),\n      height: this.$element.height(),\n      cursor: this.options.cursor\n    });\n\n    if (this.options.glass === 1) {\n      this.$magnify_large.addClass('soho-magnify-large-glass');\n    } else {\n      this.$magnify.css({\n        overflow: 'hidden'\n      });\n    }\n\n    this.$element.siblings('.soho-magnify-large').css('background', 'url(\\'' + large + '\\') no-repeat');\n    this.$element.parent('.soho-magnify').on(this.event + '.' + this.namespace, $.proxy(this.check, this)).on(this.eventOut + '.' + this.namespace, $.proxy(this.check, this)).on('touchmove.' + this.namespace, $.proxy(this.check, this)).on('touchend.' + this.namespace, $.proxy(this.check, this));\n  };\n\n  SohoMagnify.prototype = {\n    element: null,\n    $element: null,\n    event: 'mousemove',\n    eventOut: 'mouseleave',\n    namespace: 'soho-magnify',\n    nativeWidth: 0,\n    nativeHeight: 0,\n    getOptions: function getOptions(options) {\n      options = $.extend({}, {\n        delay: 0,\n        zoom: 1,\n        glass: 1,\n        cursor: 'none'\n      }, options, this.$element.data());\n\n      if (options.delay && typeof options.delay === 'number') {\n        options.delay = {\n          show: options.delay,\n          hide: options.delay\n        };\n      }\n\n      return options;\n    },\n    check: function check(e) {\n      var o = this,\n          container = $(e.currentTarget),\n          self = container.children('img'),\n          mag = container.children('.soho-magnify-large');\n\n      if (!this.nativeWidth && !this.nativeHeight) {\n        var image = new Image();\n        image.src = self.data('large') ? self.data('large') : self.attr('src');\n        $(image).on('load', function (e) {\n          o.nativeWidth = image.width * o.options.zoom;\n          o.nativeHeight = image.height * o.options.zoom;\n\n          if (o.options.zoom === 1) {\n            if (o.nativeWidth <= container.width()) {\n              o.nativeWidth *= 1.5;\n              o.nativeHeight *= 1.5;\n            }\n          }\n        });\n      } else {\n        var magnifyOffset = container.offset(),\n            mx = e.pageX - magnifyOffset.left,\n            my = e.pageY - magnifyOffset.top;\n\n        if (mx < container.width() && my < container.height() && mx > 0 && my > 0) {\n          mag.fadeIn(100);\n        } else {\n          mag.fadeOut(100);\n        }\n\n        if (mag.is(':visible')) {\n          if (this.options.glass === 1) {\n            var rx = Math.round(mx / container.width() * this.nativeWidth - mag.width() / 2) * -1,\n                ry = Math.round(my / container.height() * this.nativeHeight - mag.height() / 2) * -1,\n                bgp = rx + 'px ' + ry + 'px',\n                px = mx - mag.width() / 2,\n                py = my - mag.height() / 2,\n                bs = this.nativeWidth + 'px ' + this.nativeHeight + 'px';\n            mag.css({\n              left: px,\n              top: py,\n              backgroundPosition: bgp,\n              backgroundSize: bs\n            });\n          } else {\n            mag.css({\n              width: this.nativeWidth,\n              height: this.nativeHeight\n            });\n\n            var maxleft = 0,\n                maxtop = 0,\n                minleft = (mag.width() - container.width()) * -1,\n                mintop = (mag.height() - container.height()) * -1,\n                left = Math.round(mx / container.width() * this.nativeWidth - container.width() / 2) * -1,\n                top = Math.round(my / container.height() * this.nativeHeight - container.height() / 2) * -1,\n                _bs = this.nativeWidth + 'px ' + this.nativeHeight + 'px';\n\n            if (left > maxleft) {\n              left = maxleft;\n            }\n\n            if (top > maxtop) {\n              top = maxtop;\n            }\n\n            if (left < minleft) {\n              left = minleft;\n            }\n\n            if (top < mintop) {\n              top = mintop;\n            }\n\n            mag.css({\n              left: left,\n              top: top,\n              backgroundSize: _bs\n            });\n          }\n        }\n      }\n    },\n    destroy: function destroy() {\n      this.$element.parent('.soho-magnify').off(this.event + '.' + this.namespace, $.proxy(this.check, this)).off(this.eventOut + '.' + this.namespace, $.proxy(this.check, this)).off('touchmove.' + this.namespace, $.proxy(this.check, this)).off('touchend.' + this.namespace, $.proxy(this.check, this));\n      this.$element.siblings('.soho-magnify-large').remove();\n      this.$element.unwrap();\n      this.$element.removeData('soho-magnify');\n    }\n  };\n\n  $.fn.SohoMagnify = function (option) {\n    'use strict';\n\n    return this.each(function () {\n      var $this = $(this),\n          data = $this.data('soho-magnify'),\n          options = _typeof(option) === 'object' && option;\n\n      if (!data) {\n        $this.data('soho-magnify', data = new SohoMagnify(this, options));\n      }\n\n      if (typeof option === 'string') {\n        data[option]();\n      }\n    });\n  };\n\n  $.fn.SohoMagnify.Constructor = SohoMagnify;\n  $(window).on('load', function () {\n    $('[data-toggle=\\'soho-magnify\\']').each(function () {\n      $(this).SohoMagnify();\n    });\n  });\n  return SohoMagnify;\n});"],"file":"soho-magnify.js"}