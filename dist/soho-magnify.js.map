{"version":3,"sources":["js/soho-magnify.js"],"names":["module","b","define","exports","a","SohoMagnify","$","large","width","height","cursor","overflow","element","$element","event","eventOut","namespace","nativeWidth","nativeHeight","getOptions","options","delay","zoom","glass","show","hide","check","o","container","e","self","mag","image","magnifyOffset","mx","my","rx","Math","ry","bgp","px","py","bs","left","top","backgroundPosition","backgroundSize","maxleft","maxtop","minleft","mintop","destroy","$this","data"],"mappings":"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","sourcesContent":["/**\r\n *\r\n * Picture magnifying glass\r\n * 圖片放大鏡\r\n * @see https://www.sohophp.com/soho-magnify\r\n * @author ZHAI Peng\r\n * @version 1.1.0\r\n * @dependencies jQuery\r\n */\r\n\r\n!function (a, b) {\r\n    'use strict';\r\n    \"object\" == typeof exports && \"object\" == typeof module ? module.exports = b(jQuery) : \"function\" == typeof define && define.amd ? define(['jquery'], b) : \"object\" == typeof exports ? exports.SohoMagnify = b(jQuery) : a.SohoMagnify = b(jQuery);\r\n\r\n}(this, function ($) {\r\n    'use strict';\r\n\r\n    var SohoMagnify = function (element, options) {\r\n\r\n        this.element = element;\r\n        this.$element = $(element);\r\n        this.options = this.getOptions(options);\r\n\r\n        if (!this.$element.parent().hasClass('soho-magnify')) {\r\n            this.$element.wrap('<div class=\"soho-magnify\" />');\r\n            this.$element.parent('.soho-magnify')\r\n                .append('<div class=\"soho-magnify-large\" />');\r\n        }\r\n\r\n        this.$magnify = this.$element.parent('.soho-magnify');\r\n        this.$magnify_large = this.$element.siblings('.soho-magnify-large');\r\n\r\n        var large = this.$element.attr('src');\r\n        if (this.$element.data('large')) {\r\n            large = this.$element.data('large');\r\n        }\r\n\r\n        this.$magnify.css({\r\n            width: this.$element.width(),\r\n            height: this.$element.height(),\r\n            cursor: this.options.cursor\r\n        });\r\n\r\n        if (this.options.glass === 1) {\r\n            this.$magnify_large.addClass('soho-magnify-large-glass');\r\n        } else {\r\n            this.$magnify.css({\r\n                overflow: 'hidden'\r\n            });\r\n        }\r\n\r\n        this.$element\r\n            .siblings('.soho-magnify-large')\r\n            .css('background', 'url(\\'' + large + '\\') no-repeat');\r\n\r\n        this.$element\r\n            .parent('.soho-magnify')\r\n            .on(this.event + '.' + this.namespace, $.proxy(this.check, this))\r\n            .on(this.eventOut + '.' + this.namespace, $.proxy(this.check, this))\r\n            .on('touchmove.' + this.namespace, $.proxy(this.check, this))\r\n            .on('touchend.' + this.namespace, $.proxy(this.check, this));\r\n    };\r\n\r\n    SohoMagnify.prototype = {\r\n        element: null,\r\n        $element: null,\r\n        event: 'mousemove',\r\n        eventOut: 'mouseleave',\r\n        namespace: 'soho-magnify',\r\n        nativeWidth: 0,\r\n        nativeHeight: 0,\r\n\r\n        getOptions: function (options) {\r\n\r\n            options = $.extend({}, {delay: 0, zoom: 1, glass: 1, cursor: 'none'}, options, this.$element.data());\r\n            if (options.delay && typeof options.delay === 'number') {\r\n                options.delay = {\r\n                    show: options.delay,\r\n                    hide: options.delay\r\n                };\r\n            }\r\n            return options;\r\n        },\r\n\r\n        check: function (e) {\r\n\r\n            var o = this,\r\n                container = $(e.currentTarget),\r\n                self = container.children('img'),\r\n                mag = container.children('.soho-magnify-large');\r\n\r\n\r\n            if (!this.nativeWidth && !this.nativeHeight) {\r\n                var image = new Image();\r\n                image.src = self.data('large') ? self.data('large') : self.attr('src');\r\n                $(image).on('load', function (e) {\r\n                    o.nativeWidth = image.width * o.options.zoom;\r\n                    o.nativeHeight = image.height * o.options.zoom;\r\n                    if (o.options.zoom === 1) {\r\n                        if (o.nativeWidth <= container.width()) {\r\n                            o.nativeWidth *= 1.5;\r\n                            o.nativeHeight *= 1.5;\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                var magnifyOffset = container.offset(),\r\n                    mx = e.pageX - magnifyOffset.left,\r\n                    my = e.pageY - magnifyOffset.top;\r\n\r\n                if (mx < container.width() && my < container.height() && mx > 0 && my > 0) {\r\n                    mag.fadeIn(100);\r\n                } else {\r\n                    mag.fadeOut(100);\r\n                }\r\n\r\n                if (mag.is(':visible')) {\r\n\r\n                    if (this.options.glass === 1) {\r\n                        let rx = Math.round(mx / container.width() * this.nativeWidth - mag.width() / 2) * -1,\r\n                            ry = Math.round(my / container.height() * this.nativeHeight - mag.height() / 2) * -1,\r\n                            bgp = rx+'px '+ry+'px',\r\n                            px = mx - mag.width() / 2,\r\n                            py = my - mag.height() / 2,\r\n                            bs = this.nativeWidth +'px '+this.nativeHeight+'px' ;\r\n\r\n                        mag.css({\r\n                            left: px,\r\n                            top: py,\r\n                            backgroundPosition: bgp,\r\n                            backgroundSize: bs\r\n                        });\r\n\r\n                    } else {\r\n\r\n                        mag.css({\r\n                            width: this.nativeWidth,\r\n                            height: this.nativeHeight,\r\n                        });\r\n\r\n                        let\r\n                            maxleft = 0,\r\n                            maxtop = 0,\r\n                            minleft = (mag.width() - container.width()) * -1,\r\n                            mintop = (mag.height() - container.height()) * -1,\r\n                            left = Math.round((mx / container.width() * this.nativeWidth - container.width() / 2)) * -1,\r\n                            top = Math.round((my / container.height() * this.nativeHeight - container.height() / 2)) * -1,\r\n                            bs =  this.nativeWidth+'px '+this.nativeHeight+'px';\r\n\r\n                        if (left > maxleft) {\r\n                            left = maxleft;\r\n                        }\r\n\r\n                        if (top > maxtop) {\r\n                            top = maxtop;\r\n                        }\r\n\r\n                        if (left < minleft) {\r\n                            left = minleft;\r\n                        }\r\n\r\n                        if (top < mintop) {\r\n                            top = mintop;\r\n                        }\r\n\r\n                        mag.css({\r\n                            left: left,\r\n                            top: top,\r\n                            backgroundSize: bs\r\n                        });\r\n\r\n                    }\r\n\r\n\r\n                }\r\n            }\r\n\r\n        },\r\n        destroy: function () {\r\n            this.$element\r\n                .parent('.soho-magnify')\r\n                .off(this.event + '.' + this.namespace, $.proxy(this.check, this))\r\n                .off(this.eventOut + '.' + this.namespace, $.proxy(this.check, this))\r\n                .off('touchmove.' + this.namespace, $.proxy(this.check, this))\r\n                .off('touchend.' + this.namespace, $.proxy(this.check, this));\r\n\r\n            this.$element.siblings('.soho-magnify-large').remove();\r\n            this.$element.unwrap();\r\n            this.$element.removeData('soho-magnify');\r\n        }\r\n    };\r\n\r\n\r\n    $.fn.SohoMagnify = function (option) {\r\n        'use strict';\r\n        return this.each(function () {\r\n            let $this = $(this),\r\n                data = $this.data('soho-magnify'),\r\n                options = typeof option === 'object' && option;\r\n            if (!data) {\r\n                $this.data('soho-magnify', (data = new SohoMagnify(this, options)));\r\n            }\r\n            if (typeof option === 'string') {\r\n                data[option]();\r\n            }\r\n        });\r\n    };\r\n\r\n    $.fn.SohoMagnify.Constructor = SohoMagnify;\r\n\r\n    $(window).on('load', function () {\r\n        $('[data-toggle=\\'soho-magnify\\']').each(function () {\r\n            $(this).SohoMagnify();\r\n        });\r\n    });\r\n\r\n    return SohoMagnify;\r\n\r\n});\r\n"],"file":"soho-magnify.js"}